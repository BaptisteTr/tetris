{"version":3,"sources":["./src/app/tetris/Objets/grid.ts","./src/app/tetris/Objets/score.ts","./src/environments/environment.ts","./src/app/tetris/Objets/square.ts","./src/app/command-bar/command-bar.component.ts","./src/app/command-bar/command-bar.component.html","./src/app/tetris/grille/grille.component.ts","./src/app/tetris/grille/grille.component.html","./src/app/tetris/score-counter/score-counter.component.ts","./src/app/tetris/score-counter/score-counter.component.html","./src/app/tetris/tetris.component.ts","./src/app/tetris/tetris.component.html","./src/app/tetris/next-tetromino/next-tetromino.component.ts","./src/app/tetris/next-tetromino/next-tetromino.component.html","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/app-routing.module.ts","./src/app/tetris/Objets/tetromino.ts","./src/main.ts","./$_lazy_route_resource lazy namespace object"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import {Square} from './square';\r\nimport {Tetromino} from './tetromino';\r\n\r\nexport class Grid {\r\n\r\n  public square_list: Array<Square>;\r\n\r\n  constructor(public height: number, public width: number){\r\n    this.square_list = new Array<Square>();\r\n    for(let i = 0; i<height; i++){\r\n      for(let j = 0; j<width; j++){\r\n        this.square_list.push(new Square(i,j));\r\n      }\r\n    }\r\n  }\r\n\r\n  display(tetromino:Tetromino){\r\n    tetromino.display(this.square_list);\r\n  }\r\n\r\n}\r\n","export class Score {\r\n\r\n  public lineScore: number = 0;\r\n  public pointScore: number = 0;\r\n  public vitesse: number = 0;\r\n\r\n  constructor(){\r\n    this.lineScore = 0;\r\n    this.pointScore = 0;\r\n    this.vitesse = 0;\r\n  }\r\n\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { Grid } from \"./grid\";\r\n\r\nexport class Square {\r\n\r\n  constructor(public height_position:number, public width_position:number, public color:string = \"white\", public filled:boolean = false){}\r\n\r\n\r\n\r\n  public isFilled(grid:Grid,centerPosY: number, centerPosX: number){\r\n    if(grid.square_list.find(square => square.height_position == (this.height_position + centerPosY)\r\n      && square.width_position == (this.width_position + centerPosX)\r\n      && square.filled == true)!= undefined){\r\n        return true;\r\n    }\r\n    return false;\r\n  }\r\n}\r\n","import { Component, EventEmitter, OnInit, Output } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-command-bar',\r\n  templateUrl: './command-bar.component.html',\r\n  styleUrls: ['./command-bar.component.css']\r\n})\r\nexport class CommandBarComponent implements OnInit {\r\n\r\n  @Output() left =  new EventEmitter<any>();\r\n  @Output() right =  new EventEmitter<any>();\r\n  @Output() down =  new EventEmitter<any>();\r\n  @Output() rotate =  new EventEmitter<any>();\r\n  @Output() pause =  new EventEmitter<any>();\r\n  @Output() restart =  new EventEmitter<any>();\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  triggerLeft(){\r\n    this.left.emit(\"left\");\r\n  }\r\n  triggerRight(){\r\n    this.right.emit();\r\n  }\r\n  triggerDown(){\r\n    this.down.emit();\r\n  }\r\n  triggerRotate(){\r\n    this.rotate.emit();\r\n  }\r\n  triggerPause(){\r\n    this.pause.emit();\r\n  }\r\n  triggerRestart(){\r\n    this.restart.emit();\r\n  }\r\n\r\n}\r\n","\r\n<div class=\"wrapper\">\r\n  <div (click)=\"triggerLeft()\" class=\"button\"><img src=\"assets/img/left-arrow.png\"></div>\r\n  <div (click)=\"triggerRotate()\" class=\"button\"><img src=\"assets/img/refresh.png\"></div>\r\n  <div (click)=\"triggerRight()\" class=\"button\"><img src=\"assets/img/right-arrow.png\"></div>\r\n  <div class=\"break\"></div>\r\n  <div (click)=\"triggerDown()\" id=\"down\" class=\"button\"><img src=\"assets/img/down-arrow.png\"></div>\r\n  <div class=\"break\"></div>\r\n  <div (click)=\"triggerPause()\" id=\"pause\" class=\"button\"><img src=\"assets/img/pause.png\"></div>\r\n  <div class=\"break\"></div>\r\n  <div (click)=\"triggerRestart()\" id=\"restart\" class=\"button\"><img src=\"assets/img/restart.png\"></div>\r\n\r\n</div>\r\n","import { EventEmitter, Output } from '@angular/core';\r\nimport {Component, HostListener, OnInit} from '@angular/core';\r\nimport {Grid} from '../Objets/grid';\r\nimport { Score } from '../Objets/score';\r\nimport { Tetromino, TetrominoI, TetrominoJ, TetrominoL, TetrominoO, TetrominoS, TetrominoT, TetrominoZ } from '../Objets/tetromino';\r\n\r\n@Component({\r\n  selector: 'app-grille',\r\n  templateUrl: './grille.component.html',\r\n  styleUrls: ['./grille.component.css']\r\n})\r\nexport class GrilleComponent implements OnInit {\r\n  public grid : Grid = new Grid(0,0);\r\n  public lines: number = 20;\r\n  public columns: number = 10;\r\n  public currentTetromino:Tetromino;\r\n  public nextTetromino:Tetromino;\r\n  public score:Score = new Score();\r\n  public speedValue;\r\n  private tLastDown: any;\r\n  private tcurrent: any;\r\n  public isGameOver: boolean;\r\n  displayGameOver: string;\r\n  displayPause: string;\r\n  pause: boolean = false;\r\n\r\n  @Output() tetrominoChanged =  new EventEmitter<Tetromino>();\r\n  @Output() scoreChanged =  new EventEmitter<Score>();\r\n\r\n\r\n\r\n  constructor() {\r\n    this.currentTetromino = this.randomTetromino();\r\n    this.currentTetromino.setStartPosition();\r\n    this.nextTetromino = this.randomTetromino();\r\n    this.nextTetromino.setDefaultPosition();\r\n    this.speedValue =  725;\r\n    this.isGameOver = false;\r\n    this.displayGameOver = \"none\";\r\n    this.displayPause = \"none\";\r\n  }\r\n\r\n  async ngOnInit() {\r\n\r\n    this.tLastDown = performance.now();\r\n\r\n    this.grid = new Grid(this.lines,this.columns);\r\n    this.tetrominoChanged.emit(this.nextTetromino);\r\n\r\n    setInterval(()=>this.gameplayLoop(),1000/60);\r\n  }\r\n\r\n  draw(){\r\n    this.grid.display(this.currentTetromino);\r\n  }\r\n\r\n  gameplayLoop(){\r\n    if(this.isGameOver == false && this.pause == false){\r\n      this.displayGameOver=\"none\";\r\n      this.displayPause=\"none\";\r\n      this.tcurrent = performance.now();\r\n\r\n      if(this.tcurrent - this.tLastDown >= this.speedValue){\r\n        this.currentTetromino.checkAndMoveDown(this.grid);\r\n        this.tLastDown = this.tcurrent;\r\n      }\r\n      if(this.currentTetromino.locked){\r\n        if(this.currentTetromino.blocks.find(block => this.currentTetromino.centerPosY+block.height_position == 0) != undefined){\r\n          this.isGameOver = true;\r\n        } else {\r\n          this.currentTetromino = this.nextTetromino;\r\n          this.nextTetromino = this.randomTetromino();\r\n          this.nextTetromino.setDefaultPosition();\r\n          this.tetrominoChanged.emit(this.nextTetromino);\r\n          this.currentTetromino.setStartPosition();\r\n        }\r\n\r\n        this.cleanCompletedLines();\r\n      }\r\n    } else {\r\n      if(this.isGameOver){\r\n        this.displayGameOver=\"block\";\r\n      } else if(this.pause){\r\n        this.displayPause=\"block\";\r\n      }\r\n    }\r\n  }\r\n\r\n  cleanCompletedLines(){\r\n    let lineCount = 0;\r\n    for(let y:number = this.lines; y >= 0; y--){\r\n      let line = this.grid.square_list.filter(block => (block.height_position == y && block.filled));\r\n      if(line.length == this.columns){\r\n        lineCount++;\r\n        for(let y2:number = y; y2 >= 0; y2--)\r\n        {\r\n          let currentLine = this.getLine(y2);\r\n          let upperLine = this.getLine(y2-1);\r\n\r\n          currentLine.forEach(block => {\r\n            let upperBlock = upperLine.find(upperBlock => upperBlock.width_position == block.width_position);\r\n\r\n            if(upperBlock != undefined){\r\n              block.color = upperBlock.color;\r\n              block.filled = upperBlock.filled;\r\n            }\r\n          });\r\n        }\r\n        y++;\r\n      }\r\n    }\r\n    if(lineCount > 0){\r\n\r\n      let score = this.calculateScore(lineCount,this.score.vitesse);\r\n      this.score.lineScore = this.score.lineScore+lineCount;\r\n      this.score.pointScore = this.score.pointScore+score;\r\n      if(Math.floor(this.score.lineScore/10) > this.score.vitesse){\r\n        this.score.vitesse++;\r\n        let speedChange = this.speedValue/3;\r\n        this.speedValue -=  speedChange;\r\n      }\r\n\r\n      this.scoreChanged.emit(this.score);\r\n    }\r\n  }\r\n\r\n  getLine(lineNumber: number){\r\n    return this.grid.square_list.filter(block => (block.height_position == lineNumber));\r\n  }\r\n\r\n  onArrowLeft(){\r\n    this.currentTetromino.checkAndMoveLeft(this.grid);\r\n  }\r\n\r\n  onArrowRight(){\r\n    this.currentTetromino.checkAndMoveRight(this.grid);\r\n  }\r\n\r\n  onArrowDown(){\r\n    this.currentTetromino.checkAndMoveDown(this.grid);\r\n  }\r\n\r\n  onArrowUp(){\r\n    this.currentTetromino.centerPosY--;\r\n  }\r\n\r\n  onSpaceBar(){\r\n    this.currentTetromino.rotate(this.grid);\r\n  }\r\n\r\n  onL(){\r\n    this.currentTetromino.lock(this.grid);\r\n  }\r\n\r\n  onPause(){\r\n    if(this.pause){\r\n      this.pause = false;\r\n    } else {\r\n      this.pause = true;\r\n    }\r\n  }\r\n\r\n  restart(){\r\n    this.currentTetromino = this.randomTetromino();\r\n    this.currentTetromino.setStartPosition();\r\n    this.nextTetromino = this.randomTetromino();\r\n    this.nextTetromino.setDefaultPosition();\r\n    this.speedValue =  725;\r\n    this.isGameOver = false;\r\n    this.displayGameOver = \"none\";\r\n    this.displayPause = \"none\";\r\n    this.grid.square_list.forEach(block => {block.filled = false});\r\n    this.tetrominoChanged.emit(this.nextTetromino);\r\n    this.score = new Score();\r\n    this.scoreChanged.emit(this.score);\r\n  }\r\n\r\n\r\n  randomTetromino(): Tetromino {\r\n    const tetrominos = [TetrominoI, TetrominoJ, TetrominoL, TetrominoO, TetrominoS, TetrominoT, TetrominoZ];\r\n    var randTetromino = tetrominos[Math.floor(Math.random() * tetrominos.length)];\r\n    const colors = [\"purple\",\"grey\",\"turquoise\",\"blue\",\"green\",\"yellow\",\"orange\",\"lightBlue\"];\r\n    var randColor = colors[Math.floor(Math.random() * colors.length)];\r\n    return new randTetromino(randColor);\r\n  }\r\n\r\n\r\n\r\n\r\n  calculateScore(lineCount: number, vitesse: number) : number {\r\n    let baseValue = 40;\r\n    switch(lineCount){\r\n      case 1: {\r\n        baseValue = 40;\r\n        break;\r\n      }\r\n      case 2: {\r\n        baseValue = 100;\r\n        break;\r\n      }\r\n      case 3: {\r\n        baseValue = 300;\r\n        break;\r\n      }\r\n      case 4: {\r\n        baseValue = 1200;\r\n        break;\r\n      }\r\n      default : {\r\n        baseValue = 0;\r\n      }\r\n    }\r\n    return baseValue * (vitesse + 1);;\r\n  }\r\n\r\n\r\n\r\n  @HostListener('document:keydown', ['$event'])\r\n  handleKeyboardEvent(event: KeyboardEvent) {\r\n    if(!this.pause && !this.isGameOver) {\r\n      if(event.key == \"ArrowLeft\"){\r\n        this.onArrowLeft();\r\n      } else if(event.key == \"ArrowRight\"){\r\n        this.onArrowRight();\r\n      } else if(event.key == \"ArrowDown\"){\r\n        this.onArrowDown();\r\n      } else if(event.key == \"ArrowUp\"){\r\n        this.onSpaceBar();\r\n      } else if(event.key == \" \"){\r\n        this.onSpaceBar();\r\n      } else if(event.key == \"l\"){\r\n        this.onL();\r\n      } else {\r\n        console.log(event.key);\r\n      }\r\n    }\r\n  }\r\n}\r\n","\r\n<section>\r\n  <div id=\"game-grid\" class=\"wrapper grid\">\r\n\r\n    <span [style.--display]=\"displayGameOver\" id=\"gameOver\">Game over</span>\r\n    <span [style.--display]=\"displayPause\" id=\"pause\">Pause</span>\r\n    <div *ngFor=\"let square of grid.square_list\" class=\"cell {{square.color}}\"></div>\r\n\r\n  </div>\r\n</section>\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { Score } from '../Objets/score';\r\n\r\n@Component({\r\n  selector: 'app-score-counter',\r\n  templateUrl: './score-counter.component.html',\r\n  styleUrls: ['./score-counter.component.css']\r\n})\r\nexport class ScoreCounterComponent implements OnInit {\r\n\r\n  @Input() score: Score = new Score();\r\n\r\n  constructor() {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.score = new Score();\r\n  }\r\n\r\n}\r\n","<div id=\"scoreDiv\"><p>lines : {{score.lineScore}} </p>\r\n<p> score : {{score.pointScore}}</p>\r\n<p> speed : {{score.vitesse}}</p></div>\r\n","import { AfterViewInit, Component, OnInit, ViewChild } from '@angular/core';\r\nimport { GrilleComponent } from './grille/grille.component';\r\nimport { Score } from './Objets/score';\r\nimport { Tetromino } from './Objets/tetromino';\r\n\r\n@Component({\r\n  selector: 'app-tetris',\r\n  templateUrl: './tetris.component.html',\r\n  styleUrls: ['./tetris.component.css']\r\n})\r\nexport class TetrisComponent implements OnInit,AfterViewInit  {\r\n\r\n  public nextTetromino:any;\r\n  public score:any;\r\n  public fps:any;\r\n  public left:any;\r\n  public right:any;\r\n  public down:any;\r\n  public rotate:any;\r\n  public pause:any;\r\n  public restart:any;\r\n\r\n  @ViewChild(GrilleComponent)\r\n  private grille: any;\r\n\r\n  constructor() {\r\n    this.fps = 60;\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    setInterval(()=> this.gameLoop(), 1000/this.fps);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  private gameLoop(){\r\n    this.grille.draw();\r\n  }\r\n\r\n  nextTetrominoChangedHandler(nextTetromino: Tetromino){\r\n    this.nextTetromino = nextTetromino;\r\n  }\r\n\r\n  leftHandler(){\r\n    this.grille.onArrowLeft();\r\n  }\r\n\r\n  rightHandler(){\r\n    this.grille.onArrowRight();\r\n  }\r\n\r\n  downHandler(){\r\n    this.grille.onArrowDown();\r\n  }\r\n\r\n  rotateHandler(){\r\n    this.grille.onSpaceBar();\r\n  }\r\n\r\n  pauseHandler(){\r\n    this.grille.onPause();\r\n  }\r\n\r\n  restartHandler(){\r\n    this.grille.restart();\r\n  }\r\n\r\n  scoreChangedHandler(score:Score){\r\n    this.score = score;\r\n  }\r\n\r\n}\r\n","\r\n<section >\r\n  <app-grille id=\"grid\" class=\"children\" (scoreChanged)=\"scoreChangedHandler($event)\" (tetrominoChanged)=\"nextTetrominoChangedHandler($event)\"></app-grille>\r\n  <div class=\"children\"  id=\"scoreBar\">\r\n    <app-next-tetromino id=\"nextTetromino\" [tetromino]=\"this.nextTetromino\"></app-next-tetromino>\r\n    <app-score-counter [score]=\"this.score\"></app-score-counter>\r\n    <app-command-bar id=\"commandBar\" (left)=\"leftHandler()\" (right)=\"rightHandler()\" (down)=\"downHandler()\" (rotate)=\"rotateHandler()\" (pause)=\"pauseHandler()\" (restart)=\"restartHandler()\"></app-command-bar>\r\n  </div>\r\n</section>\r\n","import { Component, Input, OnChanges, OnInit, SimpleChanges } from '@angular/core';\r\nimport { Grid } from '../Objets/grid';\r\n\r\n@Component({\r\n  selector: 'app-next-tetromino',\r\n  templateUrl: './next-tetromino.component.html',\r\n  styleUrls: ['./next-tetromino.component.css']\r\n})\r\nexport class NextTetrominoComponent implements OnInit, OnChanges  {\r\n  public grid : Grid = new Grid(0,0);\r\n  public lines: number = 5;\r\n  public columns: number = 5;\r\n  @Input()\r\n  tetromino: any;\r\n\r\n  constructor() {\r\n\r\n  }\r\n\r\n  ngOnChanges(): void {\r\n    this.refresh();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.grid = new Grid(this.lines,this.columns);\r\n    this.refresh();\r\n  }\r\n\r\n  refresh(): void{\r\n\r\n    if(this.tetromino != null){\r\n      this.grid.display(this.tetromino);\r\n    }\r\n  }\r\n\r\n}\r\n","<div id=\"next-grid\" class=\"wrapper grid\">\r\n\r\n  <div *ngFor=\"let square of grid.square_list\" class=\"cell {{square.color}}\"></div>\r\n\r\n</div>\r\n\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent {\r\n  title = 'test-angular';\r\n}\r\n","<link rel=\"preconnect\" href=\"https://fonts.gstatic.com\">\r\n<link href=\"https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap\" rel=\"stylesheet\">\r\n\r\n\r\n<router-outlet></router-outlet>\r\n","import { NgModule } from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\n\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AppComponent } from './app.component';\r\nimport { GrilleComponent } from './tetris/grille/grille.component';\r\nimport { NextTetrominoComponent } from './tetris/next-tetromino/next-tetromino.component';\r\nimport { TetrisComponent } from './tetris/tetris.component';\r\nimport { ScoreCounterComponent } from './tetris/score-counter/score-counter.component';\r\nimport { CommandBarComponent } from './command-bar/command-bar.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    GrilleComponent,\r\n    NextTetrominoComponent,\r\n    TetrisComponent,\r\n    ScoreCounterComponent,\r\n    CommandBarComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    AppRoutingModule\r\n  ],\r\n  providers: [],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { TetrisComponent } from './tetris/tetris.component';\r\n\r\n\r\nconst routes: Routes = [\r\n  { path: '', redirectTo: '/tetris', pathMatch: 'full' },\r\n  { path: 'tetris', component: TetrisComponent }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule {\r\n\r\n}\r\n","import { Grid } from \"./grid\";\r\nimport { Square } from \"./square\";\r\n\r\n\r\nexport abstract class Tetromino {\r\n\r\n  public centerPosX: number = 4;\r\n  public centerPosY: number = -1;\r\n\r\n  public blocks : Array<Square>;\r\n  public directions : Array<Array<Square>> = new Array();\r\n\r\n  public locked = false;\r\n\r\n  constructor(public color:string = \"purple\"){\r\n    this.blocks = this.directions[0];\r\n  }\r\n\r\n\r\n  public display(square_list: Array<Square>){\r\n    square_list.filter(square => square.filled == false).map(square => square.color = \"white\");\r\n    this.blocks.forEach(\r\n      block => {\r\n        let square = square_list.find(square => square.height_position == (block.height_position + this.centerPosY) && square.width_position == (block.width_position + this.centerPosX) );\r\n        if(square != undefined){\r\n          square.color = this.color;\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  public lock(grid: Grid){\r\n    this.blocks.forEach(\r\n      block => {\r\n        let square = grid.square_list.find(square => square.height_position == (block.height_position + this.centerPosY) && square.width_position == (block.width_position + this.centerPosX) );\r\n        if(square != undefined){\r\n          square.filled = true;\r\n          square.color = this.color;\r\n        }\r\n      }\r\n    );\r\n    this.locked = true;\r\n  }\r\n\r\n  public rotate(grid: Grid){\r\n\r\n    let index :number = this.directions.findIndex( direction => this.blocks == direction);\r\n\r\n    if(index < this.directions.length-1){\r\n      this.blocks = this.directions[index+1];\r\n      if(!this.isLegal(grid,0)){\r\n        this.blocks = this.directions[index];\r\n      }\r\n    } else {\r\n      this.blocks = this.directions[0];\r\n      if(!this.isLegal(grid,0)){\r\n        this.blocks = this.directions[index];\r\n      }\r\n    }\r\n  }\r\n\r\n  public isLegal(grid: Grid, direction: number): boolean {\r\n    let resultat: boolean = true;\r\n    let posXOffset: number = 0;\r\n    let posYOffset: number = 0;\r\n    if(direction == 1){\r\n      posXOffset--;\r\n    } else if (direction == 2){\r\n      posYOffset++;\r\n    } else if (direction == 3){\r\n      posXOffset++;\r\n    }\r\n\r\n    this.getBlocks().forEach(block => {\r\n      if(this.centerPosY + block.height_position + posYOffset >= grid.height || block.isFilled(grid,this.centerPosY + posYOffset,this.centerPosX)){\r\n        resultat= false;\r\n      }\r\n      if((this.centerPosX + block.width_position + posXOffset < 0) || (this.centerPosX + block.width_position + posXOffset >= grid.width) || block.isFilled(grid,this.centerPosY,this.centerPosX + posXOffset)){\r\n        resultat= false;\r\n      }\r\n    });\r\n\r\n    return resultat;\r\n  }\r\n\r\n  public getBlocks(): Square[]{\r\n    return this.blocks;\r\n  }\r\n\r\n  public checkAndMoveDown(grid:Grid): void{\r\n    if(this.isLegal(grid, 2)){\r\n      this.centerPosY++;\r\n    } else {\r\n      this.lock(grid);\r\n    }\r\n  }\r\n\r\n  public checkAndMoveLeft(grid:Grid): void{\r\n    if(this.isLegal(grid, 1)){\r\n      this.centerPosX--;\r\n    }\r\n  }\r\n\r\n  public checkAndMoveRight(grid:Grid): void{\r\n    if(this.isLegal(grid, 3)){\r\n      this.centerPosX++;\r\n    }\r\n  }\r\n\r\n  abstract setStartPosition() : void;\r\n\r\n  abstract setDefaultPosition() : void;\r\n\r\n}\r\n\r\nexport class TetrominoI extends Tetromino {\r\n\r\n  setStartPosition(): void {\r\n    this.centerPosY = -3;\r\n    this.centerPosX = 4;\r\n  }\r\n  setDefaultPosition(): void {\r\n    this.centerPosY = 2;\r\n    this.centerPosX = 2;\r\n  }\r\n\r\n  private position1 = new Array<Square> (\r\n    new Square(2,0),\r\n    new Square(1,0),\r\n    new Square(0,0),\r\n    new Square(-1,0)\r\n  );\r\n  private position2 = new Array<Square> (\r\n    new Square(0,-1),\r\n    new Square(0,0),\r\n    new Square(0,1),\r\n    new Square(0,2)\r\n  );\r\n\r\n  directions = new Array<Array<Square>>(this.position1, this.position2)\r\n  blocks = this.position1;\r\n\r\n}\r\n\r\nexport class TetrominoJ extends Tetromino {\r\n\r\n  setStartPosition(): void {\r\n    this.centerPosY = -1;\r\n    this.centerPosX = 4;\r\n  }\r\n  setDefaultPosition(): void {\r\n    this.centerPosY = 2;\r\n    this.centerPosX = 2;\r\n  }\r\n\r\n  private position1 = new Array<Square> (\r\n    new Square(-1,-1),\r\n    new Square(0,-1),\r\n    new Square(0,0),\r\n    new Square(0,+1)\r\n  );\r\n  private position2 = new Array<Square> (\r\n    new Square(-1,1),\r\n    new Square(1,0),\r\n    new Square(0,0),\r\n    new Square(-1,0)\r\n  );\r\n  private position3 = new Array<Square> (\r\n    new Square(0,-1),\r\n    new Square(0,0),\r\n    new Square(0,1),\r\n    new Square(1,1)\r\n  );\r\n  private position4 = new Array<Square> (\r\n    new Square(1,0),\r\n    new Square(0,0),\r\n    new Square(-1,0),\r\n    new Square(1,-1)\r\n  );\r\n\r\n  directions = new Array<Array<Square>>(this.position1, this.position2, this.position3, this.position4);\r\n  blocks = this.position1;\r\n}\r\n\r\nexport class TetrominoL extends Tetromino {\r\n\r\n  setStartPosition(): void {\r\n    this.centerPosY = -1;\r\n    this.centerPosX = 4;\r\n  }\r\n  setDefaultPosition(): void {\r\n    this.centerPosY = 2;\r\n    this.centerPosX = 2;\r\n  }\r\n\r\n  private position1 = new Array<Square> (\r\n    new Square(0,-1),\r\n    new Square(0,0),\r\n    new Square(0,1),\r\n    new Square(-1,1)\r\n  );\r\n  private position2 = new Array<Square> (\r\n    new Square(1,0),\r\n    new Square(0,0),\r\n    new Square(-1,0),\r\n    new Square(1,1)\r\n  );\r\n  private position3 = new Array<Square> (\r\n    new Square(0,-1),\r\n    new Square(0,0),\r\n    new Square(0,1),\r\n    new Square(1,-1)\r\n  );\r\n  private position4 = new Array<Square> (\r\n    new Square(1,0),\r\n    new Square(0,0),\r\n    new Square(-1,0),\r\n    new Square(-1,-1)\r\n  );\r\n\r\n  directions = new Array<Array<Square>>(this.position1, this.position2, this.position3, this.position4);\r\n  blocks = this.position1;\r\n}\r\n\r\nexport class TetrominoO extends Tetromino {\r\n\r\n  setStartPosition(): void {\r\n    this.centerPosY = -2;\r\n    this.centerPosX = 4;\r\n  }\r\n  setDefaultPosition(): void {\r\n    this.centerPosY = 2;\r\n    this.centerPosX = 2;\r\n  }\r\n\r\n  private position1 = new Array<Square> (\r\n    new Square(0,0),\r\n    new Square(1,0),\r\n    new Square(0,1),\r\n    new Square(1,1)\r\n  );\r\n\r\n  directions = new Array<Array<Square>>(this.position1);\r\n  blocks = this.position1;\r\n}\r\n\r\nexport class TetrominoS extends Tetromino {\r\n\r\n  setStartPosition(): void {\r\n    this.centerPosY = -1;\r\n    this.centerPosX = 4;\r\n  }\r\n  setDefaultPosition(): void {\r\n    this.centerPosY = 2;\r\n    this.centerPosX = 2;\r\n  }\r\n\r\n  private position1 = new Array<Square> (\r\n    new Square(0,0),\r\n    new Square(0,-1),\r\n    new Square(-1,0),\r\n    new Square(-1,1)\r\n  );\r\n\r\n  private position2 = new Array<Square> (\r\n    new Square(0,1),\r\n    new Square(-1,1),\r\n    new Square(-1,0),\r\n    new Square(-2,0)\r\n  );\r\n\r\n  directions = new Array<Array<Square>>(this.position1,this.position2);\r\n  blocks = this.position1;\r\n}\r\n\r\nexport class TetrominoT extends Tetromino {\r\n\r\n  setStartPosition(): void {\r\n    this.centerPosY = -1;\r\n    this.centerPosX = 4;\r\n  }\r\n  setDefaultPosition(): void {\r\n    this.centerPosY = 2;\r\n    this.centerPosX = 2;\r\n  }\r\n\r\n  private position1 = new Array<Square> (\r\n    new Square(0,0),\r\n    new Square(0,-1),\r\n    new Square(0,1),\r\n    new Square(-1,0)\r\n  );\r\n\r\n  private position2 = new Array<Square> (\r\n    new Square(-1,0),\r\n    new Square(0,0),\r\n    new Square(1,0),\r\n    new Square(0,1)\r\n  );\r\n\r\n  private position3 = new Array<Square> (\r\n    new Square(0,-1),\r\n    new Square(0,0),\r\n    new Square(1,0),\r\n    new Square(0,1)\r\n  );\r\n\r\n  private position4 = new Array<Square> (\r\n    new Square(-1,0),\r\n    new Square(0,0),\r\n    new Square(1,0),\r\n    new Square(0,-1)\r\n  );\r\n\r\n  directions = new Array<Array<Square>>(this.position1,this.position2, this.position3,this.position4);\r\n  blocks = this.position1;\r\n}\r\n\r\nexport class TetrominoZ extends Tetromino {\r\n\r\n  setStartPosition(): void {\r\n    this.centerPosY = -2;\r\n    this.centerPosX = 4;\r\n  }\r\n  setDefaultPosition(): void {\r\n    this.centerPosY = 2;\r\n    this.centerPosX = 2;\r\n  }\r\n\r\n  private position1 = new Array<Square> (\r\n    new Square(0,0),\r\n    new Square(0,-1),\r\n    new Square(1,0),\r\n    new Square(1,1)\r\n  );\r\n\r\n  private position2 = new Array<Square> (\r\n    new Square(0,0),\r\n    new Square(-1,0),\r\n    new Square(0,-1),\r\n    new Square(1,-1)\r\n  );\r\n\r\n  directions = new Array<Array<Square>>(this.position1,this.position2);\r\n  blocks = this.position1;\r\n}\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"],"sourceRoot":"webpack:///"}